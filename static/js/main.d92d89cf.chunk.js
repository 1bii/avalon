(window.webpackJsonp=window.webpackJsonp||[]).push([[0],Array(24).concat([function(e,t,a){e.exports=a(56)},,,,,,,,,function(e,t,a){},,function(e,t,a){},,,,function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/merlin.d9a34f22.jpg"},function(e,t,a){e.exports=a.p+"static/media/percival.9987db5b.jpg"},function(e,t,a){e.exports=a.p+"static/media/servant.73d1b559.jpg"},function(e,t,a){e.exports=a.p+"static/media/assassin.e7fdef50.jpg"},function(e,t,a){e.exports=a.p+"static/media/mordred.017624c8.jpg"},function(e,t,a){e.exports=a.p+"static/media/morgana.cbfd7398.jpg"},function(e,t,a){e.exports=a.p+"static/media/minion.d8ec044c.jpg"},function(e,t,a){e.exports=a.p+"static/media/oberon.3b87a760.jpg"},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){e.exports=a.p+"static/media/victory.cbab7227.png"},function(e,t,a){e.exports=a.p+"static/media/defeat.b420bfe5.png"},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),s=a(16),c=a.n(s),i=a(3),o=a(13),l=a(14),u=a(1),p={increment:"CHARACTER_INCREMENT",decrement:"CHARACTER_DECREMENT",reset:"CHARACTER_RESET",shuffle:"CHARACTER_SHUFFLE"};function m(e){var t,a,r;for(r=e.length-1;r>0;r--)t=Math.floor(Math.random()*(r+1)),a=e[r],e[r]=e[t],e[t]=a;return e}var d={characterList:{merlin:{maxCount:1,count:0,order:0},percival:{maxCount:1,count:0,order:1},servant:{maxCount:5,count:0,order:2},mordred:{maxCount:1,count:0,order:3},morgana:{maxCount:1,count:0,order:4},assassin:{maxCount:1,count:0,order:5},oberon:{maxCount:1,count:0,order:6},minion:{maxCount:3,count:0,order:7}},selectedCount:0,assignableList:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0,a=0,r=0;switch(t.type){case p.increment:return a=e.characterList[t.characterName].count,r=e.characterList[t.characterName].maxCount,Object(u.a)({},e,{characterList:Object(u.a)({},e.characterList,Object(l.a)({},t.characterName,Object(u.a)({},e.characterList[t.characterName],{count:r>a?a+1:a}))),selectedCount:r>a?e.selectedCount+1:e.selectedCount});case p.decrement:return a=e.characterList[t.characterName].count,r=e.characterList[t.characterName].maxCount,Object(u.a)({},e,{characterList:Object(u.a)({},e.characterList,Object(l.a)({},t.characterName,Object(u.a)({},e.characterList[t.characterName],{count:a>0?a-1:a}))),selectedCount:a>0?e.selectedCount-1:e.selectedCount});case p.shuffle:var n=[];return Object.keys(e.characterList).forEach(function(t){e.characterList[t].count&&Array(e.characterList[t].count).fill().forEach(function(){n.push(t)})}),Object(u.a)({},e,{assignableList:m(n)});case p.reset:return Object(u.a)({},d);default:return e}},f=a(17),b={add:"PLAYER_ADD",delete:"PLAYER_DELETE",clear:"PLAYER_CLEAR",setRole:"PLAYER_SET_ROLE",shuffle:"PLAYER_SHUFFLE"},v={playerList:[]},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.add:return Object(u.a)({},e,{playerList:[].concat(Object(f.a)(e.playerList),[{name:t.player,good:null}])});case b.delete:return Object(u.a)({},e,{playerList:e.playerList.slice(t.index,1)});case b.clear:return Object(u.a)({},e,{playerList:[]});case b.setRole:return Object(u.a)({},e,{playerList:e.playerList.map(function(e,a){return Object(u.a)({},e,{role:t.assignableList[a]})})});case b.shuffle:return Object(u.a)({},e,{playerList:m(e.playerList)});default:return e}},E={playerSetup:"playerSetup",characters:"characters",assignCharacters:"assignCharacters",mission:"mission",goodGame:"goodGame"},y=["mordred","morgana","oberon","assassin","minion"],C={5:{roundTeamCount:[2,3,2,3,3],twoFail:!1},6:{roundTeamCount:[2,3,4,3,4],twoFail:!1},7:{roundTeamCount:[2,3,3,4,4],twoFail:!0},8:{roundTeamCount:[3,4,4,5,5],twoFail:!0},9:{roundTeamCount:[3,4,4,5,5],twoFail:!0},10:{roundTeamCount:[3,4,4,5,5],twoFail:!0}},j={current:E.playerSetup},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CHANGE_PAGE":return t.page in E?Object(u.a)({},e,{current:E[t.page]}):e;default:return e}},N={stepToNextRound:"GAME_STATUS_STEP_TO_NEXT_ROUND",addSuccess:"GAME_STATUS_ADD_SUCCESS",setLeader:"GAME_STATUS_SET_LEADER",selectPlayer:"GAME_STATUS_SELECT_PLAYER",clearPlayer:"GAME_STATUS_CLEAR_PLAYER",endGame:"GAME_STATUS_END_GAME",addRejects:"GAME_STATUS_ADD_REJECTS",reset:"GAME_STATUS_RESET"},O={round:0,rejects:0,successCount:0,leaderIndex:0,selectedTeam:new Set([]),gameEnd:!1},w=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case N.stepToNextRound:return Object(u.a)({},t,{rejects:0,round:t.round>=5?t.round:t.round+1,selectedTeam:new Set([])});case N.addSuccess:return Object(u.a)({},t,{successCount:t.successCount+1});case N.setLeader:return Object(u.a)({},t,{leaderIndex:a.index});case N.selectPlayer:return(e=new Set(t.selectedTeam)).has(a.name)?e.delete(a.name):e.add(a.name),Object(u.a)({},t,{selectedTeam:e});case N.clearPlayer:return Object(u.a)({},t,{selectedTeam:new Set([])});case N.endGame:return Object(u.a)({},t,{gameEnd:!0});case N.addRejects:return Object(u.a)({},t,{rejects:t.rejects+1});case N.reset:return Object(u.a)({},O);default:return t}},x=Object(o.b)({characters:h,players:g,page:L,gameStatus:w}),S=(a(33),a(2)),k=a.n(S),T=a(9),A=a(4),M=a(5),P=a(7),I=a(6),R=a(8),G={change:"CHANGE_PAGE"},_=(a(35),a(36),function(e){function t(){var e;return Object(A.a)(this,t),(e=Object(P.a)(this,Object(I.a)(t).call(this))).handleInputEnter=function(t){"Enter"===t.key&&e.addPlayer(t)},e.addPlayer=function(t){if(e.input&&e.input.current&&""!==e.input.current.value){if(e.props.playerList.filter(function(t){return t.name===e.input.current.value}).length>0)return e.setState(Object(u.a)({},e.state,{showDuplicateWarning:!0})),void setTimeout(function(){e.setState(Object(u.a)({},e.state,{showDuplicateWarning:!1}))},3e3);if(e.props.playerList.length>=10)return e.setState(Object(u.a)({},e.state,{showOverflowWarning:!0})),void setTimeout(function(){e.setState(Object(u.a)({},e.state,{showOverflowWarning:!1}))},3e3);e.props.dispatch({type:b.add,player:e.input.current.value}),e.input.current.value=""}t.preventDefault()},e.startGame=Object(T.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.props.dispatch({type:G.change,page:E.characters});case 1:case"end":return t.stop()}},t)})),e.clearPlayers=function(){e.props.dispatch({type:b.clear})},e.input=n.a.createRef(),e.state={showDuplicateWarning:!1,showOverflowWarning:!1},e}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"player-setup"},n.a.createElement("div",{className:"title"},"Please add players"),n.a.createElement("div",{className:"input-section"},n.a.createElement("input",{type:"text",ref:this.input,onKeyDown:this.handleInputEnter,placeholder:"Ex: Alex"}),n.a.createElement("button",{className:"btn common add-player",onClick:this.addPlayer},"Add")),n.a.createElement("div",{className:"name-section"},this.props.playerList.map(function(e,t){var a=e.name;return n.a.createElement("div",{className:"name-item",key:t},"".concat(t+1,". ").concat(a))})),n.a.createElement("div",{className:"button-section"},this.props.playerList.length>0&&n.a.createElement("button",{className:"btn clear",onClick:this.clearPlayers},"Clear"),this.props.playerList.length>=5&&n.a.createElement("button",{className:"btn common start-game",onClick:this.startGame},"Let's Go")),this.props.playerList.length<5&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"You need at least five players")),this.state.showOverflowWarning&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"Players number exceeded!")),this.state.showDuplicateWarning&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"Name existed!")))}}]),t}(n.a.Component)),F=Object(i.b)(function(e){return{playerList:e.players.playerList}})(_),W=a(11),D=a.n(W),Y=(a(39),function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(P.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).increaseCharacter=function(e){a.props.dispatch({type:p.increment,characterName:e})},a.decreaseCharacter=function(e){a.props.dispatch({type:p.decrement,characterName:e})},a.resetCharacter=function(){a.props.dispatch({type:p.reset})},a.startGame=Object(T.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.dispatch({type:p.shuffle});case 2:return console.log(a.props.assignableList),e.next=5,a.props.dispatch({type:b.setRole,assignableList:a.props.assignableList});case 5:console.log(a.props.playerList),a.props.dispatch({type:G.change,page:E.assignCharacters});case 7:case"end":return e.stop()}},e)})),a.isGoodEvilBalanced=function(){return Object.keys(a.props.characterList).filter(function(e){return a.props.characterList[e].order>2&&a.props.characterList[e].count>0}).length>0&&Object.keys(a.props.characterList).filter(function(e){return a.props.characterList[e].order<=2&&a.props.characterList[e].count>0}).length>0},a}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"character-setup"},n.a.createElement("div",{className:"character-list"},Object.keys(this.props.characterList).sort(function(t,a){return e.props.characterList[t].order-e.props.characterList[a].order}).map(function(t,a){var r=t.toUpperCase();return n.a.createElement("div",{className:"character-line",key:a},n.a.createElement("div",{className:D()("character-name",{evil:e.props.characterList[t].order>2})},r),n.a.createElement("div",{className:"control-section"},n.a.createElement("button",{className:"btn common minus",disabled:e.props.characterList[t].count<=0,onClick:function(){return e.decreaseCharacter(t)}},"-"),n.a.createElement("div",{className:"count"},e.props.characterList[t].count),n.a.createElement("button",{className:"btn common plus",disabled:e.props.characterList[t].count>=e.props.characterList[t].maxCount||e.props.playerList.length===e.props.selectedCount,onClick:function(){return e.increaseCharacter(t)}},"+")))})),n.a.createElement("div",{className:"message-to-user"},this.props.playerList.length-this.props.selectedCount>0&&n.a.createElement("div",{className:"message-line warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"".concat(this.props.playerList.length-this.props.selectedCount," left to be added"))),!this.isGoodEvilBalanced()&&n.a.createElement("div",{className:"message-line warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"Must have at least 1 player in each team")),this.props.playerList.length===this.props.selectedCount&&this.isGoodEvilBalanced()&&n.a.createElement("div",{className:"message-line all-set"},n.a.createElement("i",{className:"fas fa-check"}),n.a.createElement("div",null,"All set"))),n.a.createElement("div",{className:"final-button-section"},n.a.createElement("button",{className:"btn clear",onClick:this.resetCharacter},"Reset"),n.a.createElement("button",{className:"btn common",onClick:this.startGame,disabled:this.props.playerList.length>this.props.selectedCount||!this.isGoodEvilBalanced()},"Start")))}}]),t}(n.a.Component)),H=Object(i.b)(function(e){return{playerList:e.players.playerList,characterList:e.characters.characterList,selectedCount:e.characters.selectedCount,assignableList:e.characters.assignableList}})(Y),U=(a(40),function(e){function t(e){var r;return Object(A.a)(this,t),(r=Object(P.a)(this,Object(I.a)(t).call(this,e))).onViewClick=function(){var e=[];switch(r.props.playerList[r.state.currentPlayerIndex].role){case"merlin":e=r.props.playerList.filter(function(e){return y.filter(function(e){return"mordred"!==e}).indexOf(e.role)>=0}).map(function(e){return e.name}),r.setState(Object(u.a)({},r.state,{extraInfo:e.length>=2?"People holding evil roles are":1===e.length?"Person holding evil role is":"You can't see anyone",observableNames:e.join(", "),reminder:r.props.playerList.filter(function(e){return"mordred"===e.role}).length>0?"Mordred is hiding!":"",viewMode:"viewing"}));break;case"percival":e=r.props.playerList.filter(function(e){return["morgana","merlin"].indexOf(e.role)>=0}).map(function(e){return e.name}),r.setState(Object(u.a)({},r.state,{extraInfo:e.length>=2?"Possible Merlins are":1===e.length?"Merlin is possibly":"You can't see anyone",observableNames:e.join(", "),reminder:"",viewMode:"viewing"}));break;case"mordred":case"morgana":case"assassin":case"minion":e=r.props.playerList.filter(function(e){return y.indexOf(e.role)>=0}).filter(function(e){return e.name!==r.props.playerList[r.state.currentPlayerIndex].name}).map(function(e){return e.name}),r.setState(Object(u.a)({},r.state,{extraInfo:e.length>=2?"Your teammates are":1===e.length?"Your teammate is":"Your are the only one in your team",observableNames:e.join(", "),reminder:r.props.playerList.filter(function(e){return"oberon"===e.role}).length>0?"Oberon is hiding!":"",viewMode:"viewing"}));break;case"oberon":case"servant":r.setState(Object(u.a)({},r.state,{extraInfo:"",observableNames:"",reminder:"",viewMode:"viewing"}));break;default:return}},r.onConfirmClick=Object(T.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.state.currentPlayerIndex!==r.props.playerList.length-1){e.next=4;break}return e.next=3,r.props.dispatch({type:N.setLeader,index:Math.floor(Math.random()*r.props.playerList.length)});case 3:r.props.dispatch({type:G.change,page:E.mission});case 4:r.setState(Object(u.a)({},r.state,{currentPlayerIndex:r.state.currentPlayerIndex+1,viewMode:"preview"}));case 5:case"end":return e.stop()}},e)})),r.state={currentPlayerIndex:0,viewMode:"preview",extraInfo:"",observableNames:"",reminder:""},r.imageMap={merlin:a(41),percival:a(42),servant:a(43),assassin:a(44),mordred:a(45),morgana:a(46),minion:a(47),oberon:a(48)},r}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"assign-characters"},n.a.createElement("div",{className:"player-name"},this.props.playerList[this.state.currentPlayerIndex].name),"preview"===this.state.viewMode&&n.a.createElement("div",{className:"interaction-block preview-role"},n.a.createElement("div",{className:"message"},"Click the button below to view your role"),n.a.createElement("button",{className:"btn common",onClick:this.onViewClick},"View")),"viewing"===this.state.viewMode&&n.a.createElement("div",{className:"interaction-block viewing"},n.a.createElement("div",{className:"message"},"You are"),n.a.createElement("div",{className:D()("role",{evil:["mordred","morgana","oberon","assassin","minion"].indexOf(this.props.playerList[this.state.currentPlayerIndex].role)>=0})},this.props.playerList[this.state.currentPlayerIndex].role.toUpperCase()),n.a.createElement("img",{src:this.imageMap[this.props.playerList[this.state.currentPlayerIndex].role],alt:this.props.playerList[this.state.currentPlayerIndex].role+"image"}),this.state.extraInfo&&n.a.createElement("div",{className:"extra-info"},this.state.extraInfo),this.state.observableNames&&n.a.createElement("div",{className:"name-list"},this.state.observableNames),this.state.reminder&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,this.state.reminder)),n.a.createElement("button",{className:"btn common",onClick:this.onConfirmClick},"Got it")))}}]),t}(n.a.Component)),V=Object(i.b)(function(e){return{playerList:e.players.playerList}})(U),K=(a(49),a(50),function(e){function t(e){return Object(A.a)(this,t),Object(P.a)(this,Object(I.a)(t).call(this,e))}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:D()("player-line",{selected:this.props.selected}),onClick:function(){return e.props.onClick(e.props.name)}},this.props.gameStatus.selectedTeam.has(this.props.name)&&n.a.createElement("i",{className:"far fa-check-circle"}),n.a.createElement("div",null,this.props.name))}}]),t}(n.a.Component)),B=Object(i.b)(function(e){return{gameStatus:e.gameStatus}})(K),J=(a(51),function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(P.a)(this,Object(I.a)(t).call(this,e))).isFailValid=function(){var e=a.props.playerList.filter(function(e){return e.name===a.props.voters[a.state.voterIndex]})[0].role;return!(y.indexOf(e)<0)||(a.setState(Object(u.a)({},a.state,{showInvalidFailWarning:!0})),setTimeout(function(){a.setState(Object(u.a)({},a.state,{showInvalidFailWarning:!1}))},3e3),!1)},a.onVoteClick=function(e){if(a.state.voterIndex===a.props.voters.length-1){if(e)a.props.onFinish(a.state.failCount);else{if(!a.isFailValid())return;a.props.onFinish(a.state.failCount+1)}return a.state=Object(u.a)({},a.state,{showInvalidFailWarning:!1,voterIndex:0,failCount:0})}e?a.setState(Object(u.a)({},a.state,{showInvalidFailWarning:!1,voterIndex:a.state.voterIndex+1})):a.isFailValid()&&a.setState(Object(u.a)({},a.state,{showInvalidFailWarning:!1,voterIndex:a.state.voterIndex+1,failCount:a.state.failCount+1}))},a.state={showInvalidFailWarning:!1,voterIndex:0,failCount:0},a}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"vote-page"},n.a.createElement("div",{className:"player-name"},this.props.voters[this.state.voterIndex]),n.a.createElement("div",{className:"message"},"Please vote"),n.a.createElement("div",{className:"button-section"},n.a.createElement("button",{className:"btn success",onClick:function(){return e.onVoteClick(!0)}},"Success"),n.a.createElement("button",{className:"btn fail",onClick:function(){return e.onVoteClick(!1)}},"Fail")),this.state.showInvalidFailWarning&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"Justice will never fail")))}}]),t}(n.a.Component)),z=Object(i.b)(function(e){return{gameStatus:e.gameStatus,playerList:e.players.playerList}})(J),X=function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(P.a)(this,Object(I.a)(t).call(this,e))).onPlayerLineClick=function(e){var t=a.props.gameStatus.round;if(a.props.gameStatus.selectedTeam.size>=a.state.rule.roundTeamCount[t]&&!a.props.gameStatus.selectedTeam.has(e))return a.setState(Object(u.a)({},a.state,{showMemberCountExceedWarning:!0})),void setTimeout(function(){a.setState(Object(u.a)({},a.state,{showMemberCountExceedWarning:!1}))},3e3);a.setState(Object(u.a)({},a.state,{showMemberCountExceedWarning:!1})),a.props.dispatch({type:N.selectPlayer,name:e})},a.onChooseTeamConfirm=function(){a.setState(Object(u.a)({},a.state,{showMode:"approve"}))},a.getNextLeaderIndex=function(){return a.props.gameStatus.leaderIndex===a.props.playerList.length-1?0:a.props.gameStatus.leaderIndex+1},a.finishRound=function(){var e=Object(T.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,a.props.dispatch({type:N.addSuccess});case 3:if(4!==a.props.gameStatus.round&&3!==a.props.gameStatus.successCount){e.next=8;break}a.props.dispatch({type:N.endGame}),a.props.dispatch({type:G.change,page:E.goodGame}),e.next=12;break;case 8:return e.next=10,a.props.dispatch({type:N.stepToNextRound});case 10:a.props.gameStatus.round-a.props.gameStatus.successCount===3&&(a.props.dispatch({type:N.endGame}),a.props.dispatch({type:G.change,page:E.goodGame})),a.setState(Object(u.a)({},a.state,{showMode:"result",resultSuccess:t}));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onApprove=function(){var e=Object(T.a)(k.a.mark(function e(t){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=8;break}return a.setState(Object(u.a)({},a.state,{showMode:"vote",selectedTeamList:Object(f.a)(a.props.gameStatus.selectedTeam)})),e.next=4,a.props.dispatch({type:N.setLeader,index:a.getNextLeaderIndex()});case 4:return e.next=6,a.props.dispatch({type:N.clearPlayer});case 6:e.next=19;break;case 8:if(4!==a.props.gameStatus.rejects){e.next=12;break}a.finishRound(!1),e.next=19;break;case 12:return e.next=14,a.props.dispatch({type:N.clearPlayer});case 14:return e.next=16,a.props.dispatch({type:N.addRejects});case 16:return e.next=18,a.props.dispatch({type:N.setLeader,index:a.getNextLeaderIndex()});case 18:a.setState(Object(u.a)({},a.state,{showMode:"choose"}));case 19:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a.onVoteFinish=function(e){a.setState(Object(u.a)({},a.state,{failCount:e})),3===a.props.gameStatus.round&&a.state.rule.twoFail&&e>=2||e>0?a.finishRound(!1):a.finishRound(!0)},a.onResultConfirm=function(){a.setState(Object(u.a)({},a.state,{showMode:"choose",resultSuccess:!0,showMemberCountExceedWarning:!1,selectedTeamList:[],failCount:0}))},a.state={showMode:"choose",rule:C[a.props.playerList.length],resultSuccess:!0,showMemberCountExceedWarning:!1,selectedTeamList:[],failCount:0},a}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"mission-page"},n.a.createElement("div",{className:"current-status"},n.a.createElement("i",{className:"fas fa-chess-rook"}),n.a.createElement("div",null,":"),n.a.createElement("div",{className:"number"},this.props.gameStatus.round+1),n.a.createElement("i",{className:"far fa-thumbs-down"}),n.a.createElement("div",null,":"),n.a.createElement("div",{className:"number"},this.props.gameStatus.rejects),n.a.createElement("i",{className:"fas fa-heart"}),n.a.createElement("div",null,":"),n.a.createElement("div",{className:"number blue"},this.props.gameStatus.successCount),n.a.createElement("i",{className:"fas fa-heart-broken"}),n.a.createElement("div",null,":"),n.a.createElement("div",{className:"number red"},this.props.gameStatus.round-this.props.gameStatus.successCount)),"choose"===this.state.showMode&&n.a.createElement("div",{className:"choose-team"},n.a.createElement("div",{className:"player-name"},this.props.playerList[this.props.gameStatus.leaderIndex].name),n.a.createElement("div",{className:"message"},"Please choose your team"),n.a.createElement("div",{className:"message small"},"(".concat(this.state.rule.roundTeamCount[this.props.gameStatus.round]," members)")),this.props.playerList.map(function(t,a){return n.a.createElement(B,{key:a,name:t.name,selected:e.props.gameStatus.selectedTeam.has(t.name),onClick:function(t){return e.onPlayerLineClick(t)}})}),this.state.showMemberCountExceedWarning&&n.a.createElement("div",{className:"warning"},n.a.createElement("i",{className:"far fa-hand-point-right"}),n.a.createElement("div",null,"You can't pick more")),n.a.createElement("button",{className:"btn common",disabled:this.props.gameStatus.selectedTeam.size<this.state.rule.roundTeamCount[this.props.gameStatus.round],onClick:this.onChooseTeamConfirm},"Go")),"approve"===this.state.showMode&&n.a.createElement("div",{className:"approve-page"},n.a.createElement("div",null,"Does everyone agree with this team?"),n.a.createElement("button",{className:"btn common",onClick:function(){return e.onApprove(!0)}},"Yes"),n.a.createElement("button",{className:"btn clear",onClick:function(){return e.onApprove(!1)}},"No")),"vote"===this.state.showMode&&n.a.createElement(z,{voters:this.state.selectedTeamList,onFinish:this.onVoteFinish}),"result"===this.state.showMode&&n.a.createElement("div",{className:"result-page"},n.a.createElement("div",{className:D()("result",{success:this.state.resultSuccess})},"".concat(this.state.resultSuccess?"SUCCESS":"FAIL")),this.state.selectedTeamList.length-this.state.failCount>0&&n.a.createElement("div",{className:"show-vote-block"},Array(this.state.selectedTeamList.length-this.state.failCount).fill().map(function(){return n.a.createElement("div",{className:"votes success"},n.a.createElement("i",{className:"fas fa-check-circle"}))})),this.state.failCount>0&&n.a.createElement("div",{className:"show-vote-block"},Array(this.state.failCount).fill().map(function(){return n.a.createElement("div",{className:"votes fail"},n.a.createElement("i",{className:"fas fa-times-circle"}))})),n.a.createElement("button",{className:"btn common",onClick:this.onResultConfirm},"OK")))}}]),t}(n.a.Component),$=Object(i.b)(function(e){return{playerList:e.players.playerList,gameStatus:e.gameStatus}})(X),q=(a(52),function(e){function t(e){var a;return Object(A.a)(this,t),(a=Object(P.a)(this,Object(I.a)(t).call(this,e))).onPlayerLineClick=function(e){a.setState(Object(u.a)({},a.state,{selectedMerlin:e}))},a.onMerlinConfirmClick=function(){a.setState(Object(u.a)({},a.state,{canKill:!1,victory:a.state.selectedMerlin!==a.props.playerList.filter(function(e){return"merlin"===e.role})[0].name}))},a.backToHome=Object(T.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.dispatch({type:N.reset});case 2:a.props.dispatch({type:G.change,page:E.playerSetup});case 3:case"end":return e.stop()}},e)})),a.state={canKill:3===a.props.gameStatus.successCount&&a.props.playerList.filter(function(e){return"merlin"===e.role}).length>0,victory:a.props.gameStatus.successCount>=3,badGuyList:a.props.playerList.filter(function(e){return y.indexOf(e.role)>=0}).map(function(e){return e.name}).join(", "),goodGuyList:a.props.playerList.filter(function(e){return y.indexOf(e.role)<0}),selectedMerlin:null},a}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"good-game"},this.state.canKill&&n.a.createElement("div",{className:"kill-merlin"},n.a.createElement("div",{className:"player-name"},this.state.badGuyList),n.a.createElement("div",null,"Assassinate Merlin"),n.a.createElement("div",{className:"player-list-section"},this.state.goodGuyList.map(function(t,a){var r=t.name;return n.a.createElement(B,{key:a,name:r,selected:r===e.state.selectedMerlin,onClick:function(t){return e.onPlayerLineClick(t)}})})),n.a.createElement("button",{className:"btn common",onClick:this.onMerlinConfirmClick},"Confirm")),!this.state.canKill&&this.state.victory&&n.a.createElement("div",{className:"game-end"},n.a.createElement("img",{src:a(53),alt:"victory-image"}),n.a.createElement("div",{className:"message"},"Good wins"),n.a.createElement("button",{className:"btn common",onClick:this.backToHome},"Home")),!this.state.canKill&&!this.state.victory&&n.a.createElement("div",{className:"game-end"},n.a.createElement("img",{src:a(54),alt:"defeat-image"}),n.a.createElement("div",{className:"message"},"Evil wins"),n.a.createElement("button",{className:"btn common",onClick:this.backToHome},"Home")))}}]),t}(n.a.Component)),Q=Object(i.b)(function(e){return{playerList:e.players.playerList,gameStatus:e.gameStatus}})(q),Z=(a(55),function(e){function t(){var e,a;Object(A.a)(this,t);for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return(a=Object(P.a)(this,(e=Object(I.a)(t)).call.apply(e,[this].concat(n)))).backToHome=Object(T.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.props.dispatch({type:N.reset});case 2:a.props.dispatch({type:G.change,page:E.playerSetup});case 3:case"end":return e.stop()}},e)})),a}return Object(R.a)(t,e),Object(M.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"title-section"},n.a.createElement("div",{className:"title app-title"},"Avalon"),this.props.currentPage!==E.playerSetup&&n.a.createElement("i",{className:"fas fa-home",onClick:this.backToHome})),n.a.createElement("div",{className:"page-content"},this.props.currentPage===E.playerSetup&&n.a.createElement(F,null),this.props.currentPage===E.characters&&n.a.createElement(H,null),this.props.currentPage===E.assignCharacters&&n.a.createElement(V,null),this.props.currentPage===E.mission&&n.a.createElement($,null),this.props.currentPage===E.goodGame&&n.a.createElement(Q,null)))}}]),t}(n.a.Component)),ee=Object(i.b)(function(e){return{count:e.characters.count,currentPage:e.page.current}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var te=Object(o.c)(x);c.a.render(n.a.createElement(i.a,{store:te},n.a.createElement(ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}]),[[24,1,2]]]);
//# sourceMappingURL=main.d92d89cf.chunk.js.map