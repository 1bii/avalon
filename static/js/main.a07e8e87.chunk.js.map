{"version":3,"sources":["resource/cool/merlin.jpg","resource/cool/percival.jpg","resource/cool/servant.jpg","resource/cool/assassin.jpg","resource/cool/mordred.jpg","resource/cool/morgana.jpg","resource/cool/minion.jpg","resource/cool/oberon.jpg","resource/cool/victory.png","resource/cool/defeat.png","actions/characters.js","service/utils.js","reducers/characters.js","actions/players.js","reducers/players.js","service/page-service.js","reducers/page.js","actions/gameStatus.js","reducers/gameStatus.js","reducers/index.js","actions/page.js","components/playerSetup/playerSetup.js","components/characterSetup/characterSetup.js","components/assignCharacters/assignCharacters.js","components/player-line/player-line.js","components/mission/vote.js","components/mission/mission.js","components/goodGame/goodGame.js","components/App/App.js","serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","characterActions","increment","decrement","reset","shuffle","array","j","x","i","length","Math","floor","random","initialState","characterList","merlin","maxCount","count","order","percival","servant","mordred","morgana","assassin","oberon","minion","selectedCount","assignableList","reducer","state","arguments","undefined","action","currentCount","type","actions","characterName","Object","objectSpread","defineProperty","newList","keys","forEach","name","Array","fill","push","add","delete","clear","setRole","playerList","concat","toConsumableArray","player","good","slice","index","map","role","pageMap","playerSetup","characters","assignCharacters","mission","goodGame","evilRoles","rules","5","roundTeamCount","twoFail","6","7","8","9","10","current","page","stepToNextRound","addSuccess","setLeader","selectPlayer","clearPlayer","endGame","addRejects","round","rejects","successCount","leaderIndex","selectedTeam","Set","gameEnd","newSet","has","combineReducers","players","gameStatus","change","PlayerSetup","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleInputEnter","event","key","addPlayer","input","value","props","filter","setState","showDuplicateWarning","setTimeout","showOverflowWarning","dispatch","playerActions","preventDefault","startGame","asyncToGenerator","regenerator_default","a","mark","_callee","wrap","_context","prev","next","pageActions","stop","clearPlayers","React","createRef","react_default","createElement","className","ref","onKeyDown","placeholder","onClick","_ref2","Component","connect","CharacterSetup","increaseCharacter","decreaseCharacter","resetCharacter","console","log","isGoodEvilBalanced","_this2","sort","b","displayName","toUpperCase","classNames","evil","disabled","AssignCharacters","onViewClick","observableNamesArray","currentPlayerIndex","indexOf","extraInfo","observableNames","join","reminder","viewMode","onConfirmClick","gameActions","imageMap","require","src","alt","PlayerLine","prop","selected","Vote","isFailValid","playerRole","voters","voterIndex","showInvalidFailWarning","onVoteClick","success","onFinish","failCount","Mission","onPlayerLineClick","currentRound","size","rule","showMemberCountExceedWarning","onChooseTeamConfirm","showMode","getNextLeaderIndex","finishRound","_ref","resultSuccess","_x","apply","onApprove","_callee2","feedback","_context2","selectedTeamList","_x2","onVoteFinish","onResultConfirm","player_line_player_line","mission_vote","GoodGame","selectedMerlin","onMerlinConfirmClick","canKill","victory","backToHome","assassinList","goodGuyList","App","currentPage","playerSetup_playerSetup","characterSetup_characterSetup","assignCharacters_assignCharacters","mission_mission","goodGame_goodGame","Boolean","window","location","hostname","match","store","createStore","ReactDOM","render","es","components_App_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a07e8e87.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/merlin.d9a34f22.jpg\";","module.exports = __webpack_public_path__ + \"static/media/percival.9987db5b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/servant.73d1b559.jpg\";","module.exports = __webpack_public_path__ + \"static/media/assassin.e7fdef50.jpg\";","module.exports = __webpack_public_path__ + \"static/media/mordred.017624c8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/morgana.cbfd7398.jpg\";","module.exports = __webpack_public_path__ + \"static/media/minion.d8ec044c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/oberon.3b87a760.jpg\";","module.exports = __webpack_public_path__ + \"static/media/victory.cbab7227.png\";","module.exports = __webpack_public_path__ + \"static/media/defeat.b420bfe5.png\";","const characterActions = {\n    increment: 'CHARACTER_INCREMENT',\n    decrement: 'CHARACTER_DECREMENT',\n    reset: 'CHARACTER_RESET',\n    shuffle: 'CHARACTER_SHUFFLE'\n}\n\nexport default characterActions;","// Fisher–Yates shuffle algorithm\nexport function shuffle(array) {\n    let j, x, i;\n    for (i = array.length - 1; i > 0; i--) {\n        j = Math.floor(Math.random() * (i + 1));\n        x = array[i];\n        array[i] = array[j];\n        array[j] = x;\n    }\n    return array;\n}","import actions from '../actions/characters';\nimport { shuffle } from '../service/utils';\n\nconst initialState = {\n    characterList: {\n        merlin: {\n            maxCount: 1,\n            count: 0,\n            order: 0\n        },\n        percival: {\n            maxCount: 1,\n            count: 0,\n            order: 1\n        },\n        servant: {\n            maxCount: 5,\n            count: 0,\n            order: 2\n        },\n        mordred: {\n            maxCount: 1,\n            count: 0,\n            order: 3\n        },\n        morgana: {\n            maxCount: 1,\n            count: 0,\n            order: 4\n        },\n        assassin: {\n            maxCount: 1,\n            count: 0,\n            order: 5\n        },\n        oberon: {\n            maxCount: 1,\n            count: 0,\n            order: 6\n        },\n        minion: {\n            maxCount: 3,\n            count: 0,\n            order: 7\n        }\n    },\n    selectedCount: 0,\n    assignableList: []\n}\n\n// action = {\n//     type,\n//     characterName\n// }\nconst reducer = (state = initialState, action) => {\n    let currentCount = 0;\n    let maxCount = 0;\n    switch (action.type) {\n        case actions.increment:\n            currentCount = state.characterList[action.characterName].count;\n            maxCount = state.characterList[action.characterName].maxCount;\n            return {\n                ...state,\n                characterList: {\n                    ...state.characterList,\n                    [action.characterName]: {\n                        ...state.characterList[action.characterName],\n                        count: maxCount > currentCount ? currentCount + 1 : currentCount\n                    }\n                },\n                selectedCount: maxCount > currentCount ? state.selectedCount + 1 : state.selectedCount\n            }\n        case actions.decrement:\n            currentCount = state.characterList[action.characterName].count;\n            maxCount = state.characterList[action.characterName].maxCount;\n            return {\n                ...state,\n                characterList: {\n                    ...state.characterList,\n                    [action.characterName]: {\n                        ...state.characterList[action.characterName],\n                        count: currentCount > 0 ? currentCount - 1 : currentCount\n                    }\n                },\n                selectedCount: currentCount > 0 ? state.selectedCount - 1 : state.selectedCount\n            }\n        case actions.shuffle: // generate a shuffled list of characters to assign, and this list will be fixed during the game\n            let newList = [];\n            Object.keys(state.characterList).forEach(name => {\n                if (state.characterList[name].count) {\n                    Array(state.characterList[name].count).fill().forEach(() =>{\n                        newList.push(name)\n                    });\n                }\n            });\n            return {\n                ...state,\n                assignableList: shuffle(newList)\n            }\n        case actions.reset:\n            return { ...initialState };    \n        default:\n            return state; \n    }\n}\n\nexport default reducer;","const actions = {\n    add: 'PLAYER_ADD',\n    delete: 'PLAYER_DELETE',\n    clear: 'PLAYER_CLEAR',\n    setRole: 'PLAYER_SET_ROLE',\n    shuffle: 'PLAYER_SHUFFLE'\n}\n\nexport default actions;","import actions from '../actions/players';\nimport { shuffle } from '../service/utils';\n\nconst initialState = {\n    playerList: []\n    // playerList: [\n    //     {name: 'Alice', role: null},\n    //     {name: 'Bob', role: null},\n    //     {name: 'Cathy', role: null},\n    //     {name: 'Dickson', role: null},\n    //     {name: 'Evelyn', role: null},\n    // ]\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case actions.add:\n            return {\n                ...state,\n                playerList: [...state.playerList, {name: action.player, good: null}]\n            };\n        case actions.delete:\n            return {\n                ...state,\n                playerList: state.playerList.slice(action.index, 1)\n            };\n        case actions.clear:\n            return {\n                ...state,\n                playerList: []\n            };\n        case actions.setRole:\n            return {\n                ...state,\n                playerList: state.playerList.map((player, i) => ({\n                    ...player,\n                    role: action.assignableList[i]\n                }))\n            }\n        case actions.shuffle:\n            return {\n                ...state,\n                playerList: shuffle(state.playerList)\n            }\n        default:\n            return state; \n    }\n}\n\nexport default reducer;","export const pageMap = {\n    playerSetup: 'playerSetup',\n    characters: 'characters',\n    assignCharacters: 'assignCharacters',\n    mission: 'mission',\n    goodGame: 'goodGame'\n}\n\nexport const evilRoles = ['mordred', 'morgana', 'oberon', 'assassin', 'minion'];\n\n// player count: set up\n// when twoFail is true, we need 2 fails for round[3] (4th round)\nexport const rules = { \n    5: {\n        roundTeamCount: [2, 3, 2, 3, 3],\n        twoFail: false\n    },\n    6: {\n        roundTeamCount: [2, 3, 4, 3, 4],\n        twoFail: false\n    },\n    7: {\n        roundTeamCount: [2, 3, 3, 4, 4],\n        twoFail: true\n    },\n    8: {\n        roundTeamCount: [3, 4, 4, 5, 5],\n        twoFail: true\n    },\n    9: {\n        roundTeamCount: [3, 4, 4, 5, 5],\n        twoFail: true\n    },\n    10: {\n        roundTeamCount: [3, 4, 4, 5, 5],\n        twoFail: true\n    },\n}","import { pageMap } from '../service/page-service';\n\nconst initialState = {\n    current: pageMap.playerSetup\n    // current: pageMap.characters\n    // current: pageMap.assignCharacters\n    // current: pageMap.mission\n    // current: pageMap.goodGame\n}\n\nconst reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'CHANGE_PAGE':\n            if (action.page in pageMap) {\n                return {\n                    ...state,\n                    current: pageMap[action.page]\n                };\n            } else return state;\n        default:\n            return state; \n    }\n}\n\nexport default reducer;","const actions = {\n    stepToNextRound: 'GAME_STATUS_STEP_TO_NEXT_ROUND',\n    addSuccess: 'GAME_STATUS_ADD_SUCCESS',\n    setLeader: 'GAME_STATUS_SET_LEADER',\n    selectPlayer: 'GAME_STATUS_SELECT_PLAYER',\n    clearPlayer: 'GAME_STATUS_CLEAR_PLAYER',\n    endGame: 'GAME_STATUS_END_GAME',\n    addRejects: 'GAME_STATUS_ADD_REJECTS',\n    reset: 'GAME_STATUS_RESET'\n}\n\nexport default actions;","import actions from '../actions/gameStatus';\n\nconst initialState = {\n    round: 0, // 0~4\n    rejects: 0,\n    successCount: 0,\n    leaderIndex: 0, // index in playerList\n    selectedTeam: new Set([]),\n    gameEnd: false\n}\n\nconst reducer = (state = initialState, action) => {\n    let newSet;\n    switch (action.type) {\n        case actions.stepToNextRound:\n            return {\n                ...state,\n                rejects: 0,\n                round: state.round >= 5 ? state.round : state.round + 1,\n                selectedTeam: new Set([])\n            }\n        case actions.addSuccess:\n            return {\n                ...state,\n                successCount: state.successCount + 1\n            }\n        case actions.setLeader:\n            return {\n                ...state,\n                leaderIndex: action.index\n            }\n        case actions.selectPlayer:\n            newSet = new Set(state.selectedTeam);\n            if (newSet.has(action.name)) newSet.delete(action.name);\n            else newSet.add(action.name);\n            return {\n                ...state,\n                selectedTeam: newSet\n            }\n        case actions.clearPlayer:\n            return {\n                ...state,\n                selectedTeam: new Set([])\n            }\n        case actions.endGame:\n            return {\n                ...state,\n                gameEnd: true\n            }\n        case actions.addRejects:\n            return {\n                ...state,\n                rejects: state.rejects + 1\n            }\n        case actions.reset:\n            return { ...initialState }\n        default:\n            return state;\n    }\n}\n\nexport default reducer;","import { combineReducers } from 'redux';\nimport characters from './characters';\nimport players from './players';\nimport page from './page';\nimport gameStatus from './gameStatus';\n\nexport default combineReducers({\n    characters,\n    players,\n    page,\n    gameStatus\n})","const actions = {\n    change: 'CHANGE_PAGE'\n}\n\nexport default actions;","import React from 'react';\nimport { connect } from 'react-redux';\nimport './playerSetup.scss';\nimport { pageMap } from '../../service/page-service';\nimport playerActions from '../../actions/players';\nimport pageActions from '../../actions/page';\nimport { async } from 'q';\n\nclass PlayerSetup extends React.Component {\n    constructor() {\n        super();\n        this.input = React.createRef();\n        this.state = {\n            showDuplicateWarning: false,\n            showOverflowWarning: false\n        }\n    }\n\n    handleInputEnter = (event) => {\n        if (event.key === 'Enter') {\n            this.addPlayer(event);\n        }\n    }\n\n    addPlayer = (event) => {\n        if (this.input && this.input.current && this.input.current.value !== '') {\n            // check duplicate name\n            if (this.props.playerList.filter(player => player.name === this.input.current.value).length > 0) {\n                this.setState({\n                    ...this.state,\n                    showDuplicateWarning: true\n                });\n                setTimeout(() => {\n                    this.setState({\n                        ...this.state,\n                        showDuplicateWarning: false\n                    });\n                }, 3000);\n                return;\n            }\n            // check overflow\n            if (this.props.playerList.length >= 10) {\n                this.setState({\n                    ...this.state,\n                    showOverflowWarning: true\n                });\n                setTimeout(() => {\n                    this.setState({\n                        ...this.state,\n                        showOverflowWarning: false\n                    });\n                }, 3000);\n                return;\n            }\n            this.props.dispatch({type: playerActions.add, player: this.input.current.value});\n            this.input.current.value = '';\n        }\n        event.preventDefault();\n    }\n\n    startGame = async () => {\n        // await this.props.dispatch({type: playerActions.shuffle});\n        this.props.dispatch({type: pageActions.change, page: pageMap.characters});\n    }\n    clearPlayers = () => {\n        this.props.dispatch({type: playerActions.clear});\n    }\n    \n    render() {\n        return (\n            <div className=\"player-setup\">\n                <div className=\"title\">Please add players</div>\n                <div className=\"input-section\">\n                    <input type=\"text\" ref={this.input} onKeyDown={this.handleInputEnter} placeholder=\"Ex: Alex\"/>\n                    <button className=\"btn common add-player\" onClick={this.addPlayer}>Add</button>\n                </div>\n                <div className=\"name-section\">{this.props.playerList.map(({name}, i) => \n                    <div className=\"name-item\" key={i}>{`${i+1}. ${name}`}</div>\n                )}</div>\n                <div className=\"button-section\">\n                    { this.props.playerList.length > 0 && \n                        <button className=\"btn clear\" onClick={this.clearPlayers}>Clear</button>\n                    }\n                    { this.props.playerList.length >= 5 && \n                        <button className=\"btn common start-game\" onClick={this.startGame}>Let's Go</button>\n                    }\n                </div>\n                { this.props.playerList.length < 5 && \n                    <div className=\"warning\">\n                        <i className=\"far fa-hand-point-right\"></i>\n                        <div>You need at least five players</div>\n                    </div>\n                }\n                { this.state.showOverflowWarning && \n                    <div className=\"warning\">\n                        <i className=\"far fa-hand-point-right\"></i>\n                        <div>Players number exceeded!</div>\n                    </div>\n                }\n                { this.state.showDuplicateWarning && \n                    <div className=\"warning\">\n                        <i className=\"far fa-hand-point-right\"></i>\n                        <div>Name existed!</div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        playerList: state.players.playerList\n    }\n};\n\nexport default connect(mapStateToProps)(PlayerSetup);","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport './characterSetup.scss';\nimport { pageMap } from '../../service/page-service';\nimport characterActions from '../../actions/characters';\nimport pageActions from '../../actions/page';\nimport playerActions from '../../actions/players';\n\nclass CharacterSetup extends React.Component {\n    increaseCharacter = (name) => {\n        this.props.dispatch({type: characterActions.increment, characterName: name});\n    }\n\n    decreaseCharacter = (name) => {\n        this.props.dispatch({type: characterActions.decrement, characterName: name});\n    }\n\n    resetCharacter = () => {\n        this.props.dispatch({type: characterActions.reset});\n    }\n\n    startGame = async () => {\n        await this.props.dispatch({type: characterActions.shuffle});\n        console.log(this.props.assignableList);\n        await this.props.dispatch({type: playerActions.setRole, assignableList: this.props.assignableList});\n        console.log(this.props.playerList);\n        this.props.dispatch({type: pageActions.change, page: pageMap.assignCharacters});\n    }\n\n    isGoodEvilBalanced = () => {\n        return (Object.keys(this.props.characterList).filter(name => this.props.characterList[name].order > 2 && this.props.characterList[name].count > 0).length > 0)\n        && (Object.keys(this.props.characterList).filter(name => this.props.characterList[name].order <= 2 && this.props.characterList[name].count > 0).length > 0);\n    }\n\n    render() {\n        return (\n            <div className=\"character-setup\">\n                <div className=\"character-list\">{Object.keys(this.props.characterList)\n                    .sort((a, b) => this.props.characterList[a].order - this.props.characterList[b].order)\n                    .map((name, i) => {\n                    let displayName = name.toUpperCase();\n                    return (\n                        <div className=\"character-line\" key={i}>\n                            <div className={classNames(\"character-name\", {'evil': this.props.characterList[name].order > 2})}>{displayName}</div>\n                            <div className=\"control-section\">\n                                <button className=\"btn common minus\"\n                                disabled={this.props.characterList[name].count <= 0}\n                                onClick={() => this.decreaseCharacter(name)}\n                                >-</button>\n                                <div className=\"count\">{this.props.characterList[name].count}</div>\n                                <button className=\"btn common plus\" \n                                disabled={(this.props.characterList[name].count >= this.props.characterList[name].maxCount) || this.props.playerList.length === this.props.selectedCount}\n                                onClick={() => this.increaseCharacter(name)}\n                                >+</button>\n                            </div>\n                        </div>\n                    );\n                })}</div>\n                <div className=\"message-to-user\">\n                    { this.props.playerList.length - this.props.selectedCount > 0 &&\n                        <div className=\"message-line warning\">\n                            <i className=\"far fa-hand-point-right\"></i>\n                            <div>{`${this.props.playerList.length - this.props.selectedCount} left to be added`}</div>\n                        </div>\n                    }\n                    { !this.isGoodEvilBalanced() &&\n                        <div className=\"message-line warning\">\n                            <i className=\"far fa-hand-point-right\"></i>\n                            <div>Must have at least 1 player in each team</div>\n                        </div>\n                    }\n                    { this.props.playerList.length === this.props.selectedCount && this.isGoodEvilBalanced() &&\n                        <div className=\"message-line all-set\">\n                            <i className=\"fas fa-check\"></i>\n                            <div>All set</div>\n                        </div>\n                    }\n                </div>\n                <div className=\"final-button-section\">\n                    <button className=\"btn clear\" onClick={this.resetCharacter}>Reset</button>\n                    <button className=\"btn common\" onClick={this.startGame} disabled={this.props.playerList.length > this.props.selectedCount || !this.isGoodEvilBalanced()}>Start</button>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        playerList: state.players.playerList,\n        characterList: state.characters.characterList,\n        selectedCount: state.characters.selectedCount,\n        assignableList: state.characters.assignableList\n    }\n};\n\nexport default connect(mapStateToProps)(CharacterSetup);","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport './assignCharacters.scss';\nimport { pageMap, evilRoles } from '../../service/page-service';\nimport pageActions from '../../actions/page';\nimport gameActions from '../../actions/gameStatus';\n\nclass AssignCharacters extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            currentPlayerIndex: 0,\n            viewMode: 'preview', // preview, viewing\n            extraInfo: '',\n            observableNames: '',\n            reminder: ''\n        }\n        this.imageMap = {\n            merlin: require('../../resource/cool/merlin.jpg'),\n            percival: require('../../resource/cool/percival.jpg'),\n            servant: require('../../resource/cool/servant.jpg'),\n            assassin: require('../../resource/cool/assassin.jpg'),\n            mordred: require('../../resource/cool/mordred.jpg'),\n            morgana: require('../../resource/cool/morgana.jpg'),\n            minion: require('../../resource/cool/minion.jpg'),\n            oberon: require('../../resource/cool/oberon.jpg')\n        }\n    }\n\n    onViewClick = () => {\n        let observableNamesArray = []\n        switch (this.props.playerList[this.state.currentPlayerIndex].role) {\n            case 'merlin':\n                observableNamesArray = this.props.playerList\n                    .filter(player => evilRoles.filter(role => role !== 'mordred').indexOf(player.role) >= 0)\n                    .map(player => player.name);\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >= 2 ? 'People holding evil roles are' : \n                        observableNamesArray.length === 1 ? 'Person holding evil role is' : \"You can't see anyone\",\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: this.props.playerList.filter(player => player.role === 'mordred').length > 0 ?\n                        'Mordred is hiding!' : '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'percival':\n                observableNamesArray = this.props.playerList\n                    .filter(player => ['morgana', 'merlin'].indexOf(player.role) >= 0)\n                    .map(player => player.name);\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >= 2 ? 'Possible Merlins are' : \n                        observableNamesArray.length === 1 ? 'Merlin is possibly' : \"You can't see anyone\",\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'mordred':\n                observableNamesArray = this.props.playerList\n                    .filter(player => evilRoles.indexOf(player.role) >= 0)\n                    .filter(player => player.name !== this.props.playerList[this.state.currentPlayerIndex].name)\n                    .map(player => player.name)\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >=2 ? 'Your teammates are' :\n                        observableNamesArray.length === 1 ? 'Your teammate is' : 'Your are the only one in your team',\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: this.props.playerList.filter(player => player.role === 'oberon').length > 0 ?\n                        'Oberon is hiding!' : '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'morgana':\n                observableNamesArray = this.props.playerList\n                    .filter(player => evilRoles.indexOf(player.role) >= 0)\n                    .filter(player => player.name !== this.props.playerList[this.state.currentPlayerIndex].name)\n                    .map(player => player.name)\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >=2 ? 'Your teammates are' :\n                        observableNamesArray.length === 1 ? 'Your teammate is' : 'Your are the only one in your team',\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: this.props.playerList.filter(player => player.role === 'oberon').length > 0 ?\n                        'Oberon is hiding!' : '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'assassin':\n                observableNamesArray = this.props.playerList\n                    .filter(player => evilRoles.indexOf(player.role) >= 0)\n                    .filter(player => player.name !== this.props.playerList[this.state.currentPlayerIndex].name)\n                    .map(player => player.name)\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >=2 ? 'Your teammates are' :\n                        observableNamesArray.length === 1 ? 'Your teammate is' : 'Your are the only one in your team',\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: this.props.playerList.filter(player => player.role === 'oberon').length > 0 ?\n                        'Oberon is hiding!' : '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'minion':\n                observableNamesArray = this.props.playerList\n                    .filter(player => evilRoles.indexOf(player.role) >= 0)\n                    .filter(player => player.name !== this.props.playerList[this.state.currentPlayerIndex].name)\n                    .map(player => player.name)\n                this.setState({\n                    ...this.state,\n                    extraInfo: observableNamesArray.length >=2 ? 'Your teammates are' :\n                        observableNamesArray.length === 1 ? 'Your teammate is' : 'Your are the only one in your team',\n                    observableNames: observableNamesArray.join(', '),\n                    reminder: this.props.playerList.filter(player => player.role === 'oberon').length > 0 ?\n                        'Oberon is hiding!' : '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'oberon':\n                this.setState({\n                    ...this.state,\n                    extraInfo: '',\n                    observableNames: '',\n                    reminder: '',\n                    viewMode: 'viewing'\n                });\n                break;\n            case 'servant':\n                this.setState({\n                    ...this.state,\n                    extraInfo: '',\n                    observableNames: '',\n                    reminder: '',\n                    viewMode: 'viewing',\n                });\n                break;\n            default:\n                return;\n        }\n    }\n\n    onConfirmClick = async () => {\n        if (this.state.currentPlayerIndex === this.props.playerList.length - 1) {\n            await this.props.dispatch({type: gameActions.setLeader, index: Math.floor(Math.random() * this.props.playerList.length)});\n            this.props.dispatch({type: pageActions.change, page: pageMap.mission});\n        }\n        this.setState({\n            ...this.state,\n            currentPlayerIndex: this.state.currentPlayerIndex + 1,\n            viewMode: 'preview'\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"assign-characters\">\n                <div className=\"player-name\">{this.props.playerList[this.state.currentPlayerIndex].name}</div>\n                { this.state.viewMode === 'preview' && \n                    <div className=\"interaction-block preview-role\">\n                        <div className=\"message\">Click the button below to view your role</div>\n                        <button className=\"btn common\" onClick={this.onViewClick}>View</button>\n                    </div>\n                }\n                { this.state.viewMode === 'viewing' && \n                    <div className=\"interaction-block viewing\">\n                        <div className=\"message\">You are</div>\n                        <div className={classNames(\"role\", \n                            {'evil': ['mordred', 'morgana', 'oberon', 'assassin', 'minion'].indexOf(this.props.playerList[this.state.currentPlayerIndex].role) >= 0})}>\n                            {this.props.playerList[this.state.currentPlayerIndex].role.toUpperCase()}</div>\n                        <img src={this.imageMap[this.props.playerList[this.state.currentPlayerIndex].role]} alt={this.props.playerList[this.state.currentPlayerIndex].role + 'image'}></img>\n                        {this.state.extraInfo && <div className=\"extra-info\">{this.state.extraInfo}</div>}\n                        {this.state.observableNames && <div className=\"name-list\">{this.state.observableNames}</div>}\n                        {this.state.reminder && \n                            <div className=\"warning\">\n                                <i className=\"far fa-hand-point-right\"></i>\n                                <div>{this.state.reminder}</div>\n                            </div>\n                        }\n                        <button className=\"btn common\" onClick={this.onConfirmClick}>Got it</button>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        playerList: state.players.playerList\n    }\n};\n\nexport default connect(mapStateToProps)(AssignCharacters);","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport './player-line.scss';\n\nclass PlayerLine extends React.Component {\n    // props: name, selected, onClick\n    constructor(prop) {\n        super(prop);\n    }\n\n    render() {\n        return (\n            <div className={classNames('player-line', {'selected': this.props.selected})} \n                onClick={() => this.props.onClick(this.props.name)}>\n                {this.props.gameStatus.selectedTeam.has(this.props.name) &&\n                    <i className=\"far fa-check-circle\"></i>\n                }\n                <div>{this.props.name}</div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        gameStatus: state.gameStatus\n    }\n};\n\nexport default connect(mapStateToProps)(PlayerLine);","import React from 'react';\nimport { connect } from 'react-redux';\nimport './vote.scss';\nimport { evilRoles } from '../../service/page-service';\n\nclass Vote extends React.Component {\n    constructor(props) {\n        super(props); // voters, onFinish(failCount)\n        this.state = {\n            showInvalidFailWarning: false,\n            voterIndex: 0,\n            failCount: 0\n        }\n    }\n\n    isFailValid = () => {\n        let playerRole = this.props.playerList.filter(player => player.name === this.props.voters[this.state.voterIndex])[0].role;\n        if (evilRoles.indexOf(playerRole) < 0) {\n            // can not vote for fail\n            this.setState({\n                ...this.state,\n                showInvalidFailWarning: true\n            });\n            setTimeout(() => {\n                this.setState({\n                    ...this.state,\n                    showInvalidFailWarning: false\n                });\n            }, 3000);\n            return false;\n        }\n        return true;\n    }\n\n    onVoteClick = (success) => {\n        // if is the last one\n        if (this.state.voterIndex === this.props.voters.length - 1) {\n            if (success) this.props.onFinish(this.state.failCount);\n            else if (this.isFailValid()) this.props.onFinish(this.state.failCount + 1);\n            else return;\n            // clear state\n            return this.state = {\n                ...this.state,\n                showInvalidFailWarning: false,\n                voterIndex: 0,\n                failCount: 0\n            }\n        }\n        // keep moving on\n        if (success) {\n            this.setState({\n                ...this.state,\n                showInvalidFailWarning: false,\n                voterIndex: this.state.voterIndex + 1\n            });\n        } else if (this.isFailValid()) {\n            this.setState({\n                ...this.state,\n                showInvalidFailWarning: false,\n                voterIndex: this.state.voterIndex + 1,\n                failCount: this.state.failCount + 1\n            });\n        }\n    }\n\n    render() {\n        return (\n            <div className=\"vote-page\">\n                <div className=\"player-name\">{this.props.voters[this.state.voterIndex]}</div>\n                <div className=\"message\">Please vote</div>\n                <div className=\"button-section\">\n                    <button className=\"btn success\" onClick={() => this.onVoteClick(true)}>Success</button>\n                    <button className=\"btn fail\" onClick={() => this.onVoteClick(false)}>Fail</button>\n                </div>\n                {this.state.showInvalidFailWarning && \n                    <div className=\"warning\">\n                        <i className=\"far fa-hand-point-right\"></i>\n                        <div>Justice will never fail</div>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        gameStatus: state.gameStatus,\n        playerList: state.players.playerList\n    }\n};\n\nexport default connect(mapStateToProps)(Vote);","import React from 'react';\nimport { connect } from 'react-redux';\nimport classNames from 'classnames';\nimport './mission.scss';\nimport PlayerLine from '../player-line/player-line';\nimport Vote from './vote';\nimport { pageMap, rules } from '../../service/page-service';\nimport pageActions from '../../actions/page';\nimport gameActions from '../../actions/gameStatus';\n\nclass Mission extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            showMode: 'choose', // choose, approve, vote, result\n            rule: rules[this.props.playerList.length],\n            resultSuccess: true, // true: show success in result page, false: show fail\n            showMemberCountExceedWarning: false,\n\n            // for voting\n            selectedTeamList: [],\n\n            // for result\n            failCount: 0\n        }\n    }\n\n    onPlayerLineClick = (name) => {\n        // check if reached team limit\n        let currentRound = this.props.gameStatus.round;\n        if (this.props.gameStatus.selectedTeam.size >= this.state.rule.roundTeamCount[currentRound] &&\n            !this.props.gameStatus.selectedTeam.has(name)) {\n            this.setState({\n                ...this.state,\n                showMemberCountExceedWarning: true\n            });\n            setTimeout(() => {\n                this.setState({\n                    ...this.state,\n                    showMemberCountExceedWarning: false\n                });\n            }, 3000);\n            return;\n        }\n        // ok to add\n        this.setState({\n            ...this.state,\n            showMemberCountExceedWarning: false\n        });\n        this.props.dispatch({type: gameActions.selectPlayer, name: name});\n    }\n\n    onChooseTeamConfirm = () => {\n        this.setState({\n            ...this.state,\n            showMode: 'approve'\n        });\n    }\n\n    getNextLeaderIndex = () => {\n        return this.props.gameStatus.leaderIndex === this.props.playerList.length - 1 ?\n            0 : this.props.gameStatus.leaderIndex + 1\n    }\n\n    finishRound = async (success) => {\n        if (success) await this.props.dispatch({type: gameActions.addSuccess});\n        // check if reaches the end of the game\n        if (this.props.gameStatus.round === 4 || this.props.gameStatus.successCount === 3) {\n            // end the game\n            this.props.dispatch({type: gameActions.endGame});\n            this.props.dispatch({type: pageActions.change, page: pageMap.goodGame});\n        } else {\n            // step to next round\n            await this.props.dispatch({type: gameActions.stepToNextRound});\n            if (this.props.gameStatus.round - this.props.gameStatus.successCount === 3) {\n                // fail 3 times, end the game\n                this.props.dispatch({type: gameActions.endGame});\n                this.props.dispatch({type: pageActions.change, page: pageMap.goodGame});\n            }\n            this.setState({\n                ...this.state,\n                showMode: 'result',\n                resultSuccess: success\n            });\n        }\n    }\n\n    onApprove = async (feedback) => {\n        if (feedback) {\n            this.setState({\n                ...this.state,\n                showMode: 'vote',\n                selectedTeamList: [...this.props.gameStatus.selectedTeam]\n            });\n            await this.props.dispatch({type: gameActions.setLeader, index: this.getNextLeaderIndex()});\n            await this.props.dispatch({type: gameActions.clearPlayer});\n        } else { // disapprove\n            // check if reaches 5 rejects\n            if (this.props.gameStatus.rejects === 4) {\n                // fail\n                this.finishRound(false);\n            } else {\n                // add rejects\n                await this.props.dispatch({type: gameActions.clearPlayer});\n                await this.props.dispatch({type: gameActions.addRejects});\n                await this.props.dispatch({type: gameActions.setLeader, index: this.getNextLeaderIndex()});\n                this.setState({\n                    ...this.state,\n                    showMode: 'choose'\n                });\n            }\n        }\n    }\n\n    onVoteFinish = (failCount) => {\n        this.setState({\n            ...this.state,\n            failCount: failCount\n        });\n        if ((this.props.gameStatus.round === 3 && this.state.rule.twoFail && failCount >= 2) || (failCount > 0)) {\n            this.finishRound(false);\n        } else {\n            this.finishRound(true);\n        }\n    }\n\n    onResultConfirm = () => {\n        this.setState({\n            ...this.state,\n            showMode: 'choose',\n            resultSuccess: true,\n            showMemberCountExceedWarning: false,\n            selectedTeamList: [],\n            failCount: 0\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"mission-page\">\n                <div className=\"current-status\">\n                    <i className=\"fas fa-chess-rook\"></i>\n                    <div>:</div>\n                    <div className=\"number\">{this.props.gameStatus.round + 1}</div>\n                    <i className=\"far fa-thumbs-down\"></i>\n                    <div>:</div>\n                    <div className=\"number\">{this.props.gameStatus.rejects}</div>\n                    <i className=\"fas fa-heart\"></i>\n                    <div>:</div>\n                    <div className=\"number blue\">{this.props.gameStatus.successCount}</div>\n                    <i className=\"fas fa-heart-broken\"></i>\n                    <div>:</div>\n                    <div className=\"number red\">{this.props.gameStatus.round - this.props.gameStatus.successCount}</div>\n                </div>\n                {this.state.showMode === 'choose' &&\n                    <div className=\"choose-team\">\n                        <div className=\"player-name\">{this.props.playerList[this.props.gameStatus.leaderIndex].name}</div>\n                        <div className=\"message\">Please choose your team</div>\n                        <div className=\"message small\">{`(${this.state.rule.roundTeamCount[this.props.gameStatus.round]} members)`}</div>\n                        {this.props.playerList.map((player, i) => \n                            <PlayerLine key={i} name={player.name} selected={this.props.gameStatus.selectedTeam.has(player.name)} onClick={(name) => this.onPlayerLineClick(name)}></PlayerLine>\n                        )}\n                        { this.state.showMemberCountExceedWarning && \n                            <div className=\"warning\">\n                                <i className=\"far fa-hand-point-right\"></i>\n                                <div>You can't pick more</div>\n                            </div>\n                        }\n                        <button className=\"btn common\" \n                            disabled={this.props.gameStatus.selectedTeam.size < this.state.rule.roundTeamCount[this.props.gameStatus.round]}\n                            onClick={this.onChooseTeamConfirm}>Go</button>\n                    </div>\n                }\n                {this.state.showMode === 'approve' && \n                    <div className=\"approve-page\">\n                        <div>Does everyone agree with this team?</div>\n                        <button className=\"btn common\" onClick={() => this.onApprove(true)}>Yes</button>\n                        <button className=\"btn clear\" onClick={() => this.onApprove(false)}>No</button>\n                    </div>\n                }\n                {this.state.showMode === 'vote' &&\n                    <Vote voters={this.state.selectedTeamList} onFinish={this.onVoteFinish}></Vote>\n                }\n                {this.state.showMode === 'result' && \n                    <div className=\"result-page\">\n                        <div className={classNames('result', {'success': this.state.resultSuccess})}>\n                            {`${this.state.resultSuccess ? 'SUCCESS' : 'FAIL'}`}\n                        </div>\n                        {(this.state.selectedTeamList.length - this.state.failCount) > 0 && <div className=\"show-vote-block\">\n                            {Array(this.state.selectedTeamList.length - this.state.failCount).fill().map(() => {\n                                return <div className=\"votes success\">\n                                    <i className=\"fas fa-check-circle\"></i>\n                                </div>\n                            })}\n                        </div>}\n                        {(this.state.failCount > 0) && <div className=\"show-vote-block\">\n                            {Array(this.state.failCount).fill().map(() => {\n                                return <div className=\"votes fail\">\n                                    <i className=\"fas fa-times-circle\"></i>\n                                </div>\n                            })}\n                        </div>}\n                        <button className=\"btn common\" onClick={this.onResultConfirm}>OK</button>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        playerList: state.players.playerList,\n        gameStatus: state.gameStatus\n    }\n};\n\nexport default connect(mapStateToProps)(Mission);","import React from 'react';\nimport { connect } from 'react-redux';\nimport './goodGame.scss';\nimport PlayerLine from '../player-line/player-line';\nimport { pageMap, evilRoles } from '../../service/page-service';\nimport pageActions from '../../actions/page';\nimport gameActions from '../../actions/gameStatus';\n\nclass GoodGame extends React.Component {\n    constructor(props) {\n        super(props);\n        let assassinList = this.props.playerList.filter(player => player.role === 'assassin');\n        this.state = {\n            canKill: this.props.gameStatus.successCount === 3 && \n                this.props.playerList.filter(player => player.role === 'merlin').length > 0 &&\n                assassinList.length > 0,\n            victory: this.props.gameStatus.successCount >= 3,\n            assassin: assassinList.length > 0 && assassinList[0].name,\n            goodGuyList: this.props.playerList.filter(player => evilRoles.indexOf(player.role) < 0),\n            selectedMerlin: null\n        }\n    }\n\n    onPlayerLineClick = (name) => {\n        this.setState({\n            ...this.state,\n            selectedMerlin: name\n        });\n    }\n\n    onMerlinConfirmClick = () => {\n        this.setState({\n            ...this.state,\n            canKill: false,\n            victory: this.state.selectedMerlin !== this.props.playerList.filter(player => player.role === 'merlin')[0].name\n        });\n    }\n\n    backToHome = async () => {\n        await this.props.dispatch({type: gameActions.reset});\n        this.props.dispatch({type: pageActions.change, page: pageMap.playerSetup});\n    }\n\n    render() {\n        return (\n            <div className=\"good-game\">\n                {  this.state.canKill &&\n                    <div className=\"kill-merlin\">\n                        <div className=\"player-name\">{this.state.assassin}</div>\n                        <div>Assassinate Merlin</div>\n                        <div className=\"player-list-section\">\n                            {this.state.goodGuyList.map(({name}, i) => \n                                <PlayerLine key={i} name={name} selected={name === this.state.selectedMerlin} onClick={(name) => this.onPlayerLineClick(name)}></PlayerLine>\n                            )}\n                        </div>\n                        <button className=\"btn common\" onClick={this.onMerlinConfirmClick}>Confirm</button>\n                    </div>\n                }\n                { (!this.state.canKill && this.state.victory) &&\n                    <div className=\"game-end\">\n                        <img src={require('../../resource/cool/victory.png')} alt=\"victory-image\"></img>\n                        <div className=\"message\">Good wins</div>\n                        <button className=\"btn common\" onClick={this.backToHome}>Home</button>\n                    </div>\n                }\n                { (!this.state.canKill && !this.state.victory) &&\n                    <div className=\"game-end\">\n                        <img src={require('../../resource/cool/defeat.png')} alt=\"defeat-image\"></img>\n                        <div className=\"message\">Evil wins</div>\n                        <button className=\"btn common\" onClick={this.backToHome}>Home</button>\n                    </div>\n                }\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    return {\n        playerList: state.players.playerList,\n        gameStatus: state.gameStatus\n    }\n};\n\nexport default connect(mapStateToProps)(GoodGame);","import React from 'react';\nimport { connect } from 'react-redux';\nimport pageActions from '../../actions/page';\nimport gameActions from '../../actions/gameStatus';\nimport PlayerSetup from '../playerSetup/playerSetup';\nimport CharacterSetup from '../characterSetup/characterSetup';\nimport AssignCharacter from '../assignCharacters/assignCharacters';\nimport Mission from '../mission/mission';\nimport GoodGame from '../goodGame/goodGame';\nimport { pageMap } from '../../service/page-service';\nimport './App.scss';\n\nclass App extends React.Component {\n  backToHome = async () => {\n    await this.props.dispatch({type: gameActions.reset});\n    this.props.dispatch({type: pageActions.change, page: pageMap.playerSetup});\n  }\n\n  render() {\n    return (\n      <div className=\"App\">\n        <div className=\"title-section\">\n          <div className=\"title app-title\">Avalon</div>\n          {this.props.currentPage !== pageMap.playerSetup && <i className=\"fas fa-home\" onClick={this.backToHome}></i>}\n        </div>\n        <div className=\"page-content\">\n          {this.props.currentPage === pageMap.playerSetup && <PlayerSetup></PlayerSetup>}\n          {this.props.currentPage === pageMap.characters && <CharacterSetup></CharacterSetup>}\n          {this.props.currentPage === pageMap.assignCharacters && <AssignCharacter></AssignCharacter>}\n          {this.props.currentPage === pageMap.mission && <Mission></Mission>}\n          {this.props.currentPage === pageMap.goodGame && <GoodGame></GoodGame>}\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (state) => ({\n  count: state.characters.count,\n  currentPage: state.page.current\n});\n\nexport default connect(mapStateToProps)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { createStore } from 'redux';\nimport reducer from './reducers/index';\nimport './index.css';\nimport App from './components/App/App';\nimport * as serviceWorker from './serviceWorker';\n\nconst store = createStore(reducer);\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}